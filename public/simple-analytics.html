<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HP改善分析システム - シンプル版</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;600;700&display=swap');
        body { 
            font-family: 'Noto Sans JP', sans-serif; 
            background: #f8f9fa;
        }
        .card-hover {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .card-hover:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 24px rgba(0,0,0,0.1);
        }
        .priority-high { border-left: 4px solid #ef4444; }
        .priority-medium { border-left: 4px solid #f59e0b; }
        .priority-low { border-left: 4px solid #3b82f6; }
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .pulse-dot {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: .5; }
        }
    </style>
</head>
<body>
    <!-- シンプルなヘッダー -->
    <header class="bg-white shadow-sm border-b border-gray-200">
        <div class="max-w-6xl mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center">
                        <span class="text-white text-xl">🎯</span>
                    </div>
                    <div>
                        <h1 class="text-lg font-bold text-gray-900">HP改善分析システム</h1>
                        <p class="text-xs text-gray-600">問題を見つけて、売上を最大化</p>
                    </div>
                </div>
                <div class="flex items-center space-x-2">
                    <div class="w-2 h-2 bg-green-500 rounded-full pulse-dot"></div>
                    <span class="text-sm text-gray-600">リアルタイム分析中</span>
                </div>
            </div>
        </div>
    </header>

    <!-- メインコンテンツ -->
    <main class="max-w-6xl mx-auto px-6 py-8">
        
        <!-- 現在の状態サマリー（超シンプル） -->
        <div class="bg-white rounded-lg shadow-sm p-6 mb-6">
            <div class="flex items-center justify-between">
                <div>
                    <h2 class="text-2xl font-bold text-gray-900">現在の売上: ¥1,847,520</h2>
                    <p class="text-gray-600 mt-1">前日比 <span class="text-green-600 font-semibold">+18.5%</span> | 目標達成率 <span class="text-blue-600 font-semibold">108%</span></p>
                </div>
                <div class="text-right">
                    <p class="text-sm text-gray-600">改善可能額</p>
                    <p class="text-3xl font-bold text-purple-600">+¥580,000</p>
                </div>
            </div>
        </div>

        <!-- 重要な問題点のみを表示 -->
        <div class="mb-8">
            <h3 class="text-lg font-semibold text-gray-900 mb-4 flex items-center">
                <span class="text-red-500 mr-2">⚠️</span>
                今すぐ対応が必要な問題点
            </h3>
            
            <div class="space-y-4">
                <!-- 問題点1: 高優先度 -->
                <div class="bg-white rounded-lg shadow-sm p-6 priority-high card-hover fade-in" onclick="showProblemDetail('cart-abandonment')">
                    <div class="flex items-start justify-between">
                        <div class="flex-1">
                            <div class="flex items-center space-x-3 mb-2">
                                <span class="bg-red-100 text-red-800 text-xs font-semibold px-2 py-1 rounded">緊急</span>
                                <h4 class="text-lg font-semibold text-gray-900">カート離脱率が異常に高い</h4>
                            </div>
                            <p class="text-gray-600 mb-3">
                                カートに商品を入れた後、<strong>68%のユーザーが購入せずに離脱</strong>しています。
                                業界平均（45%）を大幅に上回っています。
                            </p>
                            <div class="flex items-center justify-between">
                                <p class="text-sm text-red-600 font-medium">
                                    推定損失額: ¥320,000/日
                                </p>
                                <button class="text-blue-600 text-sm font-medium hover:underline flex items-center">
                                    詳細を見る
                                    <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 問題点2: 中優先度 -->
                <div class="bg-white rounded-lg shadow-sm p-6 priority-medium card-hover fade-in" style="animation-delay: 0.1s" onclick="showProblemDetail('mobile-performance')">
                    <div class="flex items-start justify-between">
                        <div class="flex-1">
                            <div class="flex items-center space-x-3 mb-2">
                                <span class="bg-orange-100 text-orange-800 text-xs font-semibold px-2 py-1 rounded">重要</span>
                                <h4 class="text-lg font-semibold text-gray-900">モバイルページの読み込みが遅い</h4>
                            </div>
                            <p class="text-gray-600 mb-3">
                                平均読み込み時間が<strong>4.2秒</strong>（推奨: 2秒以下）。
                                モバイルユーザーの35%が離脱しています。
                            </p>
                            <div class="flex items-center justify-between">
                                <p class="text-sm text-orange-600 font-medium">
                                    推定損失額: ¥180,000/日
                                </p>
                                <button class="text-blue-600 text-sm font-medium hover:underline flex items-center">
                                    詳細を見る
                                    <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 問題点3: 低優先度 -->
                <div class="bg-white rounded-lg shadow-sm p-6 priority-low card-hover fade-in" style="animation-delay: 0.2s" onclick="showProblemDetail('search-optimization')">
                    <div class="flex items-start justify-between">
                        <div class="flex-1">
                            <div class="flex items-center space-x-3 mb-2">
                                <span class="bg-blue-100 text-blue-800 text-xs font-semibold px-2 py-1 rounded">改善推奨</span>
                                <h4 class="text-lg font-semibold text-gray-900">サイト内検索の精度が低い</h4>
                            </div>
                            <p class="text-gray-600 mb-3">
                                検索を使用したユーザーの<strong>42%が目的の商品を見つけられず</strong>離脱。
                                検索機能の改善で売上向上が期待できます。
                            </p>
                            <div class="flex items-center justify-between">
                                <p class="text-sm text-blue-600 font-medium">
                                    改善可能額: ¥80,000/日
                                </p>
                                <button class="text-blue-600 text-sm font-medium hover:underline flex items-center">
                                    詳細を見る
                                    <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- クイックアクション -->
        <div class="bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-6">
            <h3 class="text-lg font-semibold text-gray-900 mb-4">🚀 今すぐできる改善アクション</h3>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <button class="bg-white rounded-lg p-4 text-left hover:shadow-md transition-shadow" onclick="executeQuickFix('cart')">
                    <div class="text-green-600 text-2xl mb-2">🛒</div>
                    <h4 class="font-medium text-gray-900">カート改善</h4>
                    <p class="text-sm text-gray-600 mt-1">ワンクリックで離脱防止策を実行</p>
                    <p class="text-xs text-green-600 mt-2 font-medium">期待効果: +¥150,000/日</p>
                </button>
                
                <button class="bg-white rounded-lg p-4 text-left hover:shadow-md transition-shadow" onclick="executeQuickFix('mobile')">
                    <div class="text-blue-600 text-2xl mb-2">📱</div>
                    <h4 class="font-medium text-gray-900">速度最適化</h4>
                    <p class="text-sm text-gray-600 mt-1">画像圧縮とキャッシュ設定を自動化</p>
                    <p class="text-xs text-blue-600 mt-2 font-medium">期待効果: +¥100,000/日</p>
                </button>
                
                <button class="bg-white rounded-lg p-4 text-left hover:shadow-md transition-shadow" onclick="executeQuickFix('search')">
                    <div class="text-purple-600 text-2xl mb-2">🔍</div>
                    <h4 class="font-medium text-gray-900">検索改善</h4>
                    <p class="text-sm text-gray-600 mt-1">AI検索アルゴリズムを有効化</p>
                    <p class="text-xs text-purple-600 mt-2 font-medium">期待効果: +¥50,000/日</p>
                </button>
            </div>
        </div>

    </main>

    <!-- 詳細モーダル（非表示） -->
    <div id="detailModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50" onclick="closeModal()">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto" onclick="event.stopPropagation()">
                <div id="modalContent" class="p-8">
                    <!-- 動的にコンテンツを挿入 -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // 問題の詳細データ
        const problemDetails = {
            'cart-abandonment': {
                title: 'カート離脱率の詳細分析',
                icon: '🛒',
                severity: 'high',
                content: `
                    <div class="mb-6">
                        <h3 class="text-2xl font-bold text-gray-900 mb-4">カート離脱の詳細分析結果</h3>
                        
                        <div class="bg-red-50 border border-red-200 rounded-lg p-4 mb-6">
                            <p class="text-red-800">
                                <strong>緊急度: 最高</strong> - 毎日¥320,000の機会損失が発生しています
                            </p>
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                            <div>
                                <h4 class="font-semibold text-gray-900 mb-3">📊 離脱の主な原因</h4>
                                <ul class="space-y-2">
                                    <li class="flex items-start">
                                        <span class="text-red-500 mr-2">•</span>
                                        <div>
                                            <strong>予期しない送料（32%）</strong>
                                            <p class="text-sm text-gray-600">最終画面で高額な送料が表示される</p>
                                        </div>
                                    </li>
                                    <li class="flex items-start">
                                        <span class="text-red-500 mr-2">•</span>
                                        <div>
                                            <strong>複雑な購入プロセス（28%）</strong>
                                            <p class="text-sm text-gray-600">5ステップ以上の入力が必要</p>
                                        </div>
                                    </li>
                                    <li class="flex items-start">
                                        <span class="text-red-500 mr-2">•</span>
                                        <div>
                                            <strong>会員登録の強制（21%）</strong>
                                            <p class="text-sm text-gray-600">ゲスト購入オプションがない</p>
                                        </div>
                                    </li>
                                    <li class="flex items-start">
                                        <span class="text-red-500 mr-2">•</span>
                                        <div>
                                            <strong>セキュリティへの不安（19%）</strong>
                                            <p class="text-sm text-gray-600">SSL証明書の表示が不明確</p>
                                        </div>
                                    </li>
                                </ul>
                            </div>

                            <div>
                                <h4 class="font-semibold text-gray-900 mb-3">💡 推奨される改善策</h4>
                                <div class="space-y-3">
                                    <div class="bg-green-50 border border-green-200 rounded-lg p-3">
                                        <h5 class="font-medium text-green-800">1. 送料の早期表示</h5>
                                        <p class="text-sm text-green-700 mt-1">商品ページに送料を明記し、サプライズを防ぐ</p>
                                        <p class="text-xs text-green-600 mt-2">実装時間: 30分 | 効果: +¥120,000/日</p>
                                    </div>
                                    
                                    <div class="bg-blue-50 border border-blue-200 rounded-lg p-3">
                                        <h5 class="font-medium text-blue-800">2. エクスプレスチェックアウト</h5>
                                        <p class="text-sm text-blue-700 mt-1">購入ステップを3つに簡略化</p>
                                        <p class="text-xs text-blue-600 mt-2">実装時間: 2時間 | 効果: +¥100,000/日</p>
                                    </div>
                                    
                                    <div class="bg-purple-50 border border-purple-200 rounded-lg p-3">
                                        <h5 class="font-medium text-purple-800">3. ゲスト購入オプション</h5>
                                        <p class="text-sm text-purple-700 mt-1">会員登録なしでの購入を可能に</p>
                                        <p class="text-xs text-purple-600 mt-2">実装時間: 1時間 | 効果: +¥80,000/日</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="bg-gray-50 rounded-lg p-6">
                            <h4 class="font-semibold text-gray-900 mb-3">🎯 実装ロードマップ</h4>
                            <div class="space-y-3">
                                <div class="flex items-center justify-between p-3 bg-white rounded-lg">
                                    <div class="flex items-center space-x-3">
                                        <div class="w-8 h-8 bg-green-500 text-white rounded-full flex items-center justify-center font-bold">1</div>
                                        <div>
                                            <p class="font-medium">フェーズ1: 送料表示の改善（今日）</p>
                                            <p class="text-sm text-gray-600">即効性が高く、実装も簡単</p>
                                        </div>
                                    </div>
                                    <button class="bg-green-500 text-white px-4 py-2 rounded-lg text-sm hover:bg-green-600 transition-colors">
                                        今すぐ実行
                                    </button>
                                </div>
                                
                                <div class="flex items-center justify-between p-3 bg-white rounded-lg">
                                    <div class="flex items-center space-x-3">
                                        <div class="w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center font-bold">2</div>
                                        <div>
                                            <p class="font-medium">フェーズ2: チェックアウト簡略化（明日）</p>
                                            <p class="text-sm text-gray-600">UIの大幅改善で離脱率を削減</p>
                                        </div>
                                    </div>
                                    <button class="bg-blue-500 text-white px-4 py-2 rounded-lg text-sm hover:bg-blue-600 transition-colors">
                                        スケジュール
                                    </button>
                                </div>
                                
                                <div class="flex items-center justify-between p-3 bg-white rounded-lg">
                                    <div class="flex items-center space-x-3">
                                        <div class="w-8 h-8 bg-purple-500 text-white rounded-full flex items-center justify-center font-bold">3</div>
                                        <div>
                                            <p class="font-medium">フェーズ3: ゲスト購入実装（今週中）</p>
                                            <p class="text-sm text-gray-600">新規顧客の購入ハードルを下げる</p>
                                        </div>
                                    </div>
                                    <button class="bg-purple-500 text-white px-4 py-2 rounded-lg text-sm hover:bg-purple-600 transition-colors">
                                        計画する
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                `
            },
            'mobile-performance': {
                title: 'モバイルパフォーマンスの詳細分析',
                icon: '📱',
                severity: 'medium',
                content: `
                    <div class="mb-6">
                        <h3 class="text-2xl font-bold text-gray-900 mb-4">モバイルパフォーマンスの詳細分析</h3>
                        
                        <div class="bg-orange-50 border border-orange-200 rounded-lg p-4 mb-6">
                            <p class="text-orange-800">
                                <strong>重要度: 高</strong> - モバイルユーザーの35%が離脱し、¥180,000/日の損失
                            </p>
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                            <div>
                                <h4 class="font-semibold text-gray-900 mb-3">🐌 遅延の原因分析</h4>
                                <div class="space-y-3">
                                    <div class="bg-white border border-gray-200 rounded-lg p-3">
                                        <div class="flex justify-between items-center mb-2">
                                            <span class="font-medium">画像の最適化不足</span>
                                            <span class="text-red-600 font-bold">2.1秒</span>
                                        </div>
                                        <div class="w-full bg-gray-200 rounded-full h-2">
                                            <div class="bg-red-500 h-2 rounded-full" style="width: 50%"></div>
                                        </div>
                                    </div>
                                    
                                    <div class="bg-white border border-gray-200 rounded-lg p-3">
                                        <div class="flex justify-between items-center mb-2">
                                            <span class="font-medium">JavaScriptの実行</span>
                                            <span class="text-orange-600 font-bold">1.3秒</span>
                                        </div>
                                        <div class="w-full bg-gray-200 rounded-full h-2">
                                            <div class="bg-orange-500 h-2 rounded-full" style="width: 31%"></div>
                                        </div>
                                    </div>
                                    
                                    <div class="bg-white border border-gray-200 rounded-lg p-3">
                                        <div class="flex justify-between items-center mb-2">
                                            <span class="font-medium">サーバー応答時間</span>
                                            <span class="text-yellow-600 font-bold">0.8秒</span>
                                        </div>
                                        <div class="w-full bg-gray-200 rounded-full h-2">
                                            <div class="bg-yellow-500 h-2 rounded-full" style="width: 19%"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div>
                                <h4 class="font-semibold text-gray-900 mb-3">⚡ 最適化プラン</h4>
                                <div class="space-y-3">
                                    <div class="bg-green-50 border border-green-200 rounded-lg p-3">
                                        <h5 class="font-medium text-green-800">画像の自動最適化</h5>
                                        <ul class="text-sm text-green-700 mt-2 space-y-1">
                                            <li>• WebP形式への自動変換</li>
                                            <li>• 遅延読み込みの実装</li>
                                            <li>• レスポンシブ画像の配信</li>
                                        </ul>
                                        <p class="text-xs text-green-600 mt-2 font-medium">削減時間: -1.5秒</p>
                                    </div>
                                    
                                    <div class="bg-blue-50 border border-blue-200 rounded-lg p-3">
                                        <h5 class="font-medium text-blue-800">コード最適化</h5>
                                        <ul class="text-sm text-blue-700 mt-2 space-y-1">
                                            <li>• 不要なJSの削除</li>
                                            <li>• コード分割の実装</li>
                                            <li>• キャッシュ戦略の改善</li>
                                        </ul>
                                        <p class="text-xs text-blue-600 mt-2 font-medium">削減時間: -0.8秒</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="bg-gray-50 rounded-lg p-6">
                            <h4 class="font-semibold text-gray-900 mb-3">📈 期待される改善効果</h4>
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                <div class="bg-white rounded-lg p-4 text-center">
                                    <div class="text-3xl font-bold text-green-600">2.0秒</div>
                                    <p class="text-sm text-gray-600 mt-1">目標読み込み時間</p>
                                    <p class="text-xs text-gray-500 mt-1">現在: 4.2秒</p>
                                </div>
                                <div class="bg-white rounded-lg p-4 text-center">
                                    <div class="text-3xl font-bold text-blue-600">-52%</div>
                                    <p class="text-sm text-gray-600 mt-1">離脱率の改善</p>
                                    <p class="text-xs text-gray-500 mt-1">35% → 17%</p>
                                </div>
                                <div class="bg-white rounded-lg p-4 text-center">
                                    <div class="text-3xl font-bold text-purple-600">+¥180,000</div>
                                    <p class="text-sm text-gray-600 mt-1">売上増加/日</p>
                                    <p class="text-xs text-gray-500 mt-1">年間: +¥6,570万</p>
                                </div>
                            </div>
                        </div>
                    </div>
                `
            },
            'search-optimization': {
                title: 'サイト内検索の最適化',
                icon: '🔍',
                severity: 'low',
                content: `
                    <div class="mb-6">
                        <h3 class="text-2xl font-bold text-gray-900 mb-4">サイト内検索の最適化分析</h3>
                        
                        <div class="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6">
                            <p class="text-blue-800">
                                <strong>改善推奨</strong> - 検索機能の改善で¥80,000/日の売上向上が可能
                            </p>
                        </div>

                        <div class="mb-6">
                            <h4 class="font-semibold text-gray-900 mb-3">🔍 現在の検索パフォーマンス</h4>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div class="bg-white border border-gray-200 rounded-lg p-4">
                                    <h5 class="font-medium text-gray-800 mb-3">検索クエリ分析</h5>
                                    <div class="space-y-2">
                                        <div class="flex justify-between items-center">
                                            <span class="text-sm">完全一致率</span>
                                            <span class="font-bold text-red-600">23%</span>
                                        </div>
                                        <div class="flex justify-between items-center">
                                            <span class="text-sm">部分一致率</span>
                                            <span class="font-bold text-orange-600">35%</span>
                                        </div>
                                        <div class="flex justify-between items-center">
                                            <span class="text-sm">検索失敗率</span>
                                            <span class="font-bold text-red-600">42%</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="bg-white border border-gray-200 rounded-lg p-4">
                                    <h5 class="font-medium text-gray-800 mb-3">ユーザー行動</h5>
                                    <div class="space-y-2">
                                        <div class="flex justify-between items-center">
                                            <span class="text-sm">検索後の購入率</span>
                                            <span class="font-bold text-green-600">12%</span>
                                        </div>
                                        <div class="flex justify-between items-center">
                                            <span class="text-sm">再検索率</span>
                                            <span class="font-bold text-orange-600">67%</span>
                                        </div>
                                        <div class="flex justify-between items-center">
                                            <span class="text-sm">検索後の離脱率</span>
                                            <span class="font-bold text-red-600">42%</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="mb-6">
                            <h4 class="font-semibold text-gray-900 mb-3">💡 AI検索導入による改善案</h4>
                            <div class="space-y-3">
                                <div class="bg-green-50 border border-green-200 rounded-lg p-4">
                                    <h5 class="font-medium text-green-800">1. 自然言語処理の導入</h5>
                                    <p class="text-sm text-green-700 mt-1">
                                        「赤いワンピース 夏用」のような自然な検索に対応
                                    </p>
                                    <p class="text-xs text-green-600 mt-2">効果: 検索成功率 +45%</p>
                                </div>
                                
                                <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                                    <h5 class="font-medium text-blue-800">2. 類似商品の自動提案</h5>
                                    <p class="text-sm text-blue-700 mt-1">
                                        検索結果が少ない場合、関連商品を自動表示
                                    </p>
                                    <p class="text-xs text-blue-600 mt-2">効果: 離脱率 -30%</p>
                                </div>
                                
                                <div class="bg-purple-50 border border-purple-200 rounded-lg p-4">
                                    <h5 class="font-medium text-purple-800">3. 検索履歴の学習機能</h5>
                                    <p class="text-sm text-purple-700 mt-1">
                                        ユーザーの検索傾向を学習し、精度を向上
                                    </p>
                                    <p class="text-xs text-purple-600 mt-2">効果: リピート購入率 +25%</p>
                                </div>
                            </div>
                        </div>

                        <div class="bg-gray-50 rounded-lg p-6">
                            <h4 class="font-semibold text-gray-900 mb-3">🚀 実装の優先順位</h4>
                            <p class="text-sm text-gray-600 mb-3">
                                他の改善項目と比較して優先度は低めですが、長期的な顧客満足度向上に寄与します。
                            </p>
                            <button class="bg-blue-500 text-white px-6 py-3 rounded-lg hover:bg-blue-600 transition-colors">
                                AI検索の導入計画を作成
                            </button>
                        </div>
                    </div>
                `
            }
        };

        // 問題の詳細を表示
        function showProblemDetail(problemId) {
            const detail = problemDetails[problemId];
            if (!detail) return;

            const modalContent = document.getElementById('modalContent');
            modalContent.innerHTML = detail.content;
            
            document.getElementById('detailModal').classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        // モーダルを閉じる
        function closeModal() {
            document.getElementById('detailModal').classList.add('hidden');
            document.body.style.overflow = 'auto';
        }

        // クイックフィックスの実行
        function executeQuickFix(type) {
            const fixes = {
                'cart': {
                    title: 'カート改善の実行',
                    message: 'カート離脱防止策を実行中...\n\n✅ 送料の早期表示を有効化\n✅ 購入ステップを簡略化\n✅ 離脱防止ポップアップを設定\n\n予想効果: +¥150,000/日'
                },
                'mobile': {
                    title: 'モバイル最適化の実行',
                    message: '画像圧縮とキャッシュ設定を実行中...\n\n✅ 画像をWebP形式に自動変換\n✅ 遅延読み込みを有効化\n✅ ブラウザキャッシュを最適化\n\n予想効果: +¥100,000/日'
                },
                'search': {
                    title: 'AI検索の有効化',
                    message: 'AI検索アルゴリズムを有効化中...\n\n✅ 自然言語処理エンジンを起動\n✅ 類似商品の自動提案を有効化\n✅ 検索履歴の学習を開始\n\n予想効果: +¥50,000/日'
                }
            };

            const fix = fixes[type];
            if (fix && confirm(`${fix.title}\n\n実行してもよろしいですか？`)) {
                alert(fix.message);
            }
        }

        // ESCキーでモーダルを閉じる
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeModal();
            }
        });
    </script>
</body>
</html>