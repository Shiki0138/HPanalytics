# Production Environment Configuration for HP Analysis System

# Application Settings
NODE_ENV=production
PORT=8000
LOG_LEVEL=info
API_VERSION=v1

# Database Configuration (Retrieved from AWS Secrets Manager)
# DATABASE_URL will be injected by ECS from Secrets Manager
# Format: postgresql://username:password@host:port/database

# Redis Configuration (Retrieved from AWS Secrets Manager)
# REDIS_URL will be injected by ECS from Secrets Manager
# Format: redis://auth_token@host:port

# JWT Configuration
# JWT_SECRET will be injected by ECS from Secrets Manager
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
API_RATE_LIMIT_MAX=20

# CORS Configuration
CORS_ORIGINS=https://hp-analysis.com,https://www.hp-analysis.com,https://admin.hp-analysis.com

# Security Settings
BCRYPT_ROUNDS=12
SESSION_SECRET_LENGTH=64
BLOCK_SUSPICIOUS_REQUESTS=true
TRUSTED_IPS=

# File Upload Settings
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,application/pdf,text/csv
UPLOAD_PATH=/tmp/uploads

# Email Configuration (SES)
EMAIL_FROM=noreply@hp-analysis.com
EMAIL_REPLY_TO=support@hp-analysis.com
AWS_SES_REGION=us-west-2

# Monitoring and Logging
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_RELEASE=hp-analysis@1.0.0
DD_API_KEY=
DD_SERVICE=hp-analysis-system
DD_ENV=production
DD_VERSION=1.0.0

# AWS Configuration
AWS_REGION=us-west-2
AWS_S3_BUCKET_NAME=hp-analysis-production-static-assets
AWS_S3_REGION=us-west-2
AWS_CLOUDFRONT_DISTRIBUTION_ID=

# AI Engine Configuration
AI_ENGINE_URL=http://hp-analysis-production-ai-engine:8080
AI_ENGINE_TIMEOUT=30000
AI_MODEL_VERSION=1.0.0

# Cache Configuration
CACHE_TTL_DEFAULT=300
CACHE_TTL_ANALYTICS=60
CACHE_TTL_STATIC=3600

# Queue Configuration
QUEUE_REDIS_URL=
QUEUE_DEFAULT_JOB_OPTIONS='{"removeOnComplete":10,"removeOnFail":50,"attempts":3}'
QUEUE_CONCURRENCY=5

# WebSocket Configuration
WS_HEARTBEAT_INTERVAL=30000
WS_MAX_CONNECTIONS=1000

# Feature Flags
FEATURE_REAL_TIME_ANALYTICS=true
FEATURE_AI_INSIGHTS=true
FEATURE_ADVANCED_FILTERING=true
FEATURE_EXPORT_DATA=true

# Performance Settings
NODE_OPTIONS="--max-old-space-size=2048 --max-semi-space-size=128"
UV_THREADPOOL_SIZE=4

# Health Check Settings
HEALTH_CHECK_INTERVAL=30000
DB_HEALTH_CHECK_TIMEOUT=5000
REDIS_HEALTH_CHECK_TIMEOUT=3000

# Pagination Defaults
DEFAULT_PAGE_SIZE=20
MAX_PAGE_SIZE=100

# Analytics Settings
ANALYTICS_BATCH_SIZE=1000
ANALYTICS_FLUSH_INTERVAL=5000
ANALYTICS_RETENTION_DAYS=365

# Backup Settings
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_RETENTION_DAYS=30

# SSL/TLS Settings
FORCE_HTTPS=true
HSTS_MAX_AGE=31536000

# API Documentation
SWAGGER_ENABLED=false
API_DOCS_PATH=/docs

# Timezone
TZ=UTC

# Process Settings
PM2_INSTANCES=max
PM2_MAX_MEMORY_RESTART=2048M
PM2_LOG_DATE_FORMAT=YYYY-MM-DD HH:mm:ss Z

# Graceful Shutdown
GRACEFUL_SHUTDOWN_TIMEOUT=30000

# Request Timeout
REQUEST_TIMEOUT=30000

# Body Parser Limits
BODY_PARSER_LIMIT=10mb
JSON_LIMIT=10mb
URL_ENCODED_LIMIT=10mb